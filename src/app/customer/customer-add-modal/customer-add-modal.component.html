<div fxLayout="column" fxLayoutAlign="space-around center">
    <div style="background-color:#1BBDB8;width: 730px; margin-top: -24px">
        <title style="text-align: center;padding-top:15px; color:#FFFFFF" mat-dialog-title>Customer Profile {{ data ? "Edit" : "Add" }}</title>

    </div>

    <mat-progress-bar style="padding-top:15px;" *ngIf="asyncService?.isLoading | async" mode="indeterminate">

    </mat-progress-bar>

    <div fxLayout="column" fxLayoutAlign="space-around center" style="margin-top:10px;">

        <form [id]="formId" [formGroup]="form" (ngSubmit)="onSubmit(form.value)" novalidate>
            <div fxLayout="row" fxLayout.xs="column" fxLayout.sm="column" class="tab">
                <div fxLayout="row wrap" fxLayoutGap="10px" fxFlex="100%" fxFlex.sm="50%" fxLayout.lt-sm="column" fxFlex.xs="100%" fxLayoutAlign="flex-start">
                    <mat-form-field fxFlex="1 1 calc(50% - 10px)" fxFlex.lt-md="1 1 calc(50% - 10px)" fxFlex.lt-sm="100%" fxFlex.xs="100%" appearance="none" class="from-color">
                        <mat-label class="label-padding">Customer Name</mat-label>
                        <input class="label-padding" matInput placeholder="Customer" formControlName="name" required />
                        <mat-error *ngIf="
                        name.invalid &&
                        (name.dirty || name.touched)
                        ">
                            <ng-container *ngIf="name.hasError('required')">Customer Name is required.</ng-container>
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="1 1 calc(50% - 10px)" fxFlex.lt-md="1 1 calc(50% - 10px)" fxFlex.lt-sm="100%" fxFlex.xs="100%" appearance="none" class="from-color">
                        <mat-label class="label-padding">Customer Phone</mat-label>
                        <input class="label-padding" matInput placeholder="Customer Phone" formControlName="phone" />

                        <mat-error *ngIf="
                            phone.invalid &&
                            (phone.invalid || phone.touched)
                        ">
                            <ng-container *ngIf="phone.hasError('required')">Customer phone is required.</ng-container>
                            <ng-container *ngIf="phone.hasError('pattern')">Please, Enter 11 digit Mobile Number.

                            </ng-container>
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field fxFlex="1 1 calc(50% - 10px)" fxFlex.lt-md="1 1 calc(50% - 10px)" fxFlex.lt-sm="100%" fxFlex.xs="100%" appearance="none" class="from-color">
                        <mat-label class="label-padding">Customer e-mail</mat-label>
                        <input class="label-padding" matInput placeholder="Customer Emal" formControlName="email" required />
                        <mat-error *ngIf="
                email.invalid &&
                (email.dirty || email.touched)
              ">
                            <ng-container *ngIf="email.hasError('required')">Customer email is required.</ng-container>
                            <ng-container *ngIf="email.hasError('email')">Invalid Email address</ng-container>
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field fxFlex="1 1 calc(50% - 10px)" fxFlex.lt-md="1 1 calc(50% - 10px)" fxFlex.lt-sm="100%" fxFlex.xs="100%" appearance="none" class="from-color">
                        <mat-label class="label-padding">Customer Password</mat-label>
                        <input class="label-padding" matInput placeholder="Customer Password" formControlName="password" required />
                        <mat-error *ngIf="
              password.invalid && password.errors &&
              (password.dirty || password.touched)
            ">
                            <ng-container *ngIf="password.errors.pattern">
                                Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters
                            </ng-container>
                            <ng-container *ngIf="password.hasError('required')">Customer password is required.</ng-container>
                            <ng-container *ngIf="password.hasError('password')">Invalid password </ng-container>
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="1 1 calc(44% - 10px)" fxFlex.lt-md="1 1 calc(50% - 10px)" fxFlex.lt-sm="100%" fxFlex.xs="100%" appearance="none" class="from-color">
                        <mat-label class="label-padding">Customer Type</mat-label>
                        <mat-select formControlName="type" required>
                            <mat-option *ngFor="let type of types" [value]="type.value">
                                {{ type.name }}
                            </mat-option>
                        </mat-select>
                        <mat-error *ngIf="
                type.invalid &&
                (type.dirty || type.touched)
              ">
                            <ng-container *ngIf="type.hasError('required')">Customer Type is required.</ng-container>
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="1 1 calc(30% - 10px)" fxFlex.lt-md="1 1 calc(50% - 10px)" fxFlex.lt-sm="100%" fxFlex.xs="100%" appearance="none" class="from-color">
                        <mat-label class="label-padding">Image</mat-label>
                        <input class="label-padding" readonly matInput formControlName="picture_name" style="cursor: pointer;" />
                        <mat-icon matSuffix (click)="userPictureUpload.click()" style="cursor: pointer;">open_in_browser</mat-icon>
                        <input hidden type="file" placeholder="Image" accept="image/*" capture #userPictureUpload (change)="onChangeUserPicture($event)" />
                    </mat-form-field>

                    <div style="padding-top: 20px;">
                        <avatar [imageSrc]="userAvatar" [size]="50"></avatar>
                    </div>

                    <mat-form-field fxFlex="1 1 calc(50% - 10px)" fxFlex.lt-md="1 1 calc(50% - 10px)" fxFlex.lt-sm="100%" fxFlex.xs="100%" appearance="none" class="from-color">
                        <mat-label class="label-padding">Concern Person Name</mat-label>
                        <input class="label-padding" matInput placeholder="Concern Person Name" formControlName="customerCornPersonName"/>
                        <mat-error *ngIf="
                        name.invalid &&
                        (name.dirty || name.touched)
                        ">
                            <ng-container *ngIf="name.hasError('required')">Concern Person Name is required.</ng-container>
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field fxFlex="1 1 calc(50% - 10px)" fxFlex.lt-md="1 1 calc(50% - 10px)" fxFlex.lt-sm="100%" fxFlex.xs="100%" appearance="none" class="from-color">
                        <mat-label class="label-padding">Concern Person Phone</mat-label>
                        <input class="label-padding" matInput placeholder="Concern Person Phone" formControlName="customerCornPersonPhone" />

                        <mat-error *ngIf="
                            phone.invalid &&
                            (phone.invalid || phone.touched)
                        ">
                            <ng-container *ngIf="phone.hasError('required')">Concern Person Phone is required.</ng-container>
                            <ng-container *ngIf="phone.hasError('pattern')">Please, Enter 11 digit Mobile Number.

                            </ng-container>
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
        </form>

    </div>


    <div mat-dialog-actions fxLayoutAlign="end end">
        <button type="button" mat-raised-button color="warn" [mat-dialog-close]>
      Cancel
    </button>
        <button [attr.form]="formId" type="submit" mat-raised-button color="success" [disabled]="asyncService?.isLoading | async">
      Submit
    </button>
    </div>


</div>